{"version":3,"sources":["pages/Register.module.css","components/Forms/Form.module.css","pages/Login.module.css","components/Todolist/Todolist.module.css","components/Filter/Filter.module.css","components/Navigation/Navigation.module.css","components/UserMenu/UserMenu.module.css","pages/Phonebook.module.css","pages/Home.module.css","components/AppBar/AppBAr.module.css","redux/app/operation.js","components/Forms/Form.js","redux/app/app-phonebook-selector.js","components/Todolist/Todolist.js","redux/app/app-phonebook-actions.js","components/Filter/Filter.js","pages/Phonebook.js","pages/Home.js","redux/app/thunks.js","pages/Login.js","pages/Register.js","redux/app/selector-auth.js","routs/PublicRout.js","routs/PrivateRout.js","components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBAr.js","App.js","redux/app/slices-auth.js","redux/app/app-phonebook-reducer.js","redux/store.js","index.js"],"names":["module","exports","contactsApi","createApi","reducerPath","tagTypes","baseQuery","fetchBaseQuery","baseUrl","endpoints","builder","fetchContact","query","providesTags","result","map","type","id","addContacts","mutation","newContact","url","method","body","invalidatesTags","deleteContacts","useFetchContactQuery","useAddContactsMutation","useDeleteContactsMutation","Form","contact","useState","name","setName","number","setNumber","association","setAssociation","onSubmit","e","preventDefault","repeatName","reduce","acc","cont","repeatNumber","phone","includes","alert","className","s","m","title","form__name","onChange","currentTarget","value","pattern","required","form__number","radio__btn","checked","submit","getFilter","state","filter","Todolist","isDeleting","isLoading","useSelector","contasts","setContacts","useEffect","optimizedFilter","toLowerCase","error","contacts__list","item","name__contact","Button","variant","onClick","changeFilter","createAction","Filter","dispatch","useDispatch","label","placeholder","input","event","target","Phonebook","contactApi","data","phonebook","Home","home","BASE_USER_URL","registerThunk","createAsyncThunk","user","a","rejectWithValue","getState","fetch","headers","JSON","stringify","response","console","log","status","toast","Error","json","message","loginThunk","currentThunk","_","token","auth","Authorization","logOutThunk","Login","email","setEmail","password","setPassword","handleChange","reset","register__list","register__label","login__button","Register","register__item","register__button","getisAuth","isAuth","getIsRefresh","isRefresh","getUsersName","PublicRoute","Component","component","to","PrivateRoute","Navigation","nav","link","UserMenu","userName","userMenu","user__button","color","AuthNav","style","borderRadius","backgroundColor","padding","marginRight","fontSize","AppBar","isAuthApp","header","App","isFetchingCurret","path","element","redirectTo","authSlice","createSlice","initialState","extraReducers","pending","action","fulfilled","payload","rejected","createReducer","combineReducers","authPersistConfig","key","storage","whitelist","authPersisteReducer","persistReducer","authReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","concat","devTools","process","setupListeners","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.a4c63658.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"register__list\":\"Register_register__list__1x8yg\",\"register__label\":\"Register_register__label__j8nCc\",\"register__button\":\"Register_register__button__23myr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"radio__btn\":\"Form_radio__btn__2kgGj\",\"title\":\"Form_title__2fXiF\",\"submit\":\"Form_submit__2wKgn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"register__list\":\"Login_register__list__1jYnY\",\"register__label\":\"Login_register__label__3RZVj\",\"login__button\":\"Login_login__button__IY-OJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contacts__list\":\"Todolist_contacts__list__4zDXX\",\"item\":\"Todolist_item__2uJZm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Filter_label__JiAEW\",\"input\":\"Filter_input__3d3ET\",\"filter\":\"Filter_filter__2j-m6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__38rFF\",\"link\":\"Navigation_link__2T-RE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user__button\":\"UserMenu_user__button__3PHo6\",\"userMenu\":\"UserMenu_userMenu__38yKK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"phonebook\":\"Phonebook_phonebook__33LPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__1U3PV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBAr_header__5iyXC\"};","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\n\r\nexport const contactsApi = createApi({\r\n  reducerPath: 'contactsApi',\r\n  tagTypes: ['Contacts'],\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: 'https://61935e66d3ae6d0017da850e.mockapi.io/',\r\n  }),\r\n  endpoints: builder => ({\r\n    fetchContact: builder.query({\r\n      query: () => `/contacts`,\r\n      providesTags: result =>\r\n        result\r\n          ? [\r\n              ...result.map(({ id }) => ({ type: 'Contacts', id })),\r\n              { type: 'Contacts', id: 'LIST' },\r\n            ]\r\n          : [{ type: 'Contacts', id: 'LIST' }],\r\n    }),\r\n    addContacts: builder.mutation({\r\n      query: newContact => ({\r\n        url: `/contacts`,\r\n        method: 'POST',\r\n        body: { ...newContact },\r\n      }),\r\n      invalidatesTags: [{ type: 'Contacts', id: 'LIST' }],\r\n    }),\r\n    deleteContacts: builder.mutation({\r\n      query: id => ({\r\n        url: `contacts/${id}`,\r\n        method: 'DELETE',\r\n      }),\r\n      invalidatesTags: [{ type: 'Contacts', id: 'LIST' }],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useFetchContactQuery,\r\n  useAddContactsMutation,\r\n  useDeleteContactsMutation,\r\n} = contactsApi;\r\n","import { useState } from 'react';\r\nimport s from './Form.module.css';\r\nimport { useAddContactsMutation } from '../../redux/app/operation';\r\n\r\nfunction Form({ contact }) {\r\n  const [addContacts] = useAddContactsMutation();\r\n\r\n  const [name, setName] = useState('');\r\n  const [number, setNumber] = useState('');\r\n  const [association, setAssociation] = useState('Other');\r\n\r\n  const handleSabmit = e => {\r\n    e.preventDefault();\r\n\r\n    const repeatName = contact.reduce((acc, cont) => [...acc, cont.name], []);\r\n    const repeatNumber = contact.reduce(\r\n      (acc, cont) => [...acc, cont.phone],\r\n      [],\r\n    );\r\n\r\n    if (repeatName.includes(name) || repeatNumber.includes(number)) {\r\n      alert(`${name}  ${number} is already `);\r\n      return;\r\n    }\r\n\r\n    if (repeatName.includes(name)) {\r\n      alert(`${name}  is already `);\r\n      return;\r\n    }\r\n    if (name === '' || number === '') {\r\n      alert(`Enter data`);\r\n      return;\r\n    }\r\n    let phone = number;\r\n    const newContact = { name, phone, association };\r\n    addContacts(newContact);\r\n    // onSubmit(name, number, association);\r\n    setName('');\r\n    setNumber('');\r\n    setAssociation('Other');\r\n    //Дизпачим продукет в редакс\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSabmit} className={s.m}>\r\n      <h2 className={s.title}>Phonebook</h2>\r\n      <label className={s.form__name}>\r\n        Name:{' '}\r\n        <input\r\n          // id={this.contactIdName}\r\n          onChange={e => setName(e.currentTarget.value)}\r\n          type=\"text\"\r\n          value={name}\r\n          name=\"name\"\r\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n          required\r\n        />\r\n      </label>\r\n      <label className={s.form__number}>\r\n        {' '}\r\n        Number:{' '}\r\n        <input\r\n          // id={this.contactIdNumber}\r\n          onChange={e => setNumber(e.currentTarget.value)}\r\n          type=\"tel\"\r\n          value={number}\r\n          name=\"number\"\r\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n          title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n          required\r\n        />\r\n      </label>\r\n\r\n      <div className={s.radio__btn}>\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"association\"\r\n            value=\"Work\"\r\n            onChange={e => setAssociation(e.currentTarget.value)}\r\n            checked={association === 'Work'}\r\n          />\r\n          Work\r\n        </label>\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"association\"\r\n            value=\"Family\"\r\n            onChange={e => setAssociation(e.currentTarget.value)}\r\n            checked={association === 'Family'}\r\n          />\r\n          Family\r\n        </label>\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"association\"\r\n            value=\"Friends\"\r\n            onChange={e => setAssociation(e.currentTarget.value)}\r\n            checked={association === 'Friends'}\r\n          />\r\n          Friends\r\n        </label>\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"association\"\r\n            value=\"Other\"\r\n            onChange={e => setAssociation(e.currentTarget.value)}\r\n            checked={association === 'Other'}\r\n          />\r\n          Other\r\n        </label>\r\n      </div>\r\n      <button className={s.submit} type=\"submit\">\r\n        Add contacts\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n","// export const getContacts = state => state.contacts.contact;\nexport const getFilter = state => state.getFilter.filter;\n// export const getisAuth  = state => state.auth.isLoading;\n// export const getVisibleContacts = state => {\n//   const contacts = getContacts(state);\n//   const filter = getFilter(state);\n//   const optimizedFilter = filter.toLowerCase();\n//   return contacts.filter(({ name }) =>\n//     name.toLowerCase().includes(optimizedFilter),\n//   );\n// };\n","import s from './Todolist.module.css';\nimport { Button } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { useSelector } from 'react-redux';\nimport { getFilter } from '../../redux/app/app-phonebook-selector';\nimport { useDeleteContactsMutation } from '../../redux/app/operation';\nimport { useState, useEffect } from 'react';\n\nfunction Todolist({ contact }) {\n  const [deleteContacts, { isLoading: isDeleting }] =\n    useDeleteContactsMutation();\n  const value = useSelector(getFilter);\n  const [contasts, setContacts] = useState([]);\n  useEffect(() => {\n    const optimizedFilter = value.toLowerCase();\n    try {\n      setContacts(\n        contact.filter(({ name }) =>\n          name.toLowerCase().includes(optimizedFilter),\n        ),\n      );\n    } catch (error) {\n      return error;\n    }\n  }, [contact, value]);\n\n  return (\n    <ul className={s.contacts__list}>\n      {contasts.map(({ id, name, phone, association }) => {\n        return (\n          <li key={id} className={s.item}>\n            {' '}\n            <p className={s.name__contact}>\n              Association: {association} | <span> name: {name} | </span>\n              <span>number: {phone} |</span>\n            </p>\n            <Button\n              variant=\"outline-secondary\"\n              type=\"button\"\n              onClick={() => deleteContacts(id)}\n            >\n              {isDeleting ? 'Deleting...' : 'Delete'}\n            </Button>{' '}\n            {/* <button\n              className={s.btn}\n              type=\"button\"\n              onClick={() => deleteContacts(id)}\n            >\n              {' '}\n              {isDeleting ? 'Deleting...' : 'Delete'}\n            </button> */}\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\nexport default Todolist;\n\n// Todolist.propTypes = {\n//   contacts: PropTypes.arrayOf(\n//     PropTypes.shape({\n//       id: PropTypes.string.isRequired,\n//       name: PropTypes.string.isRequired,\n//       number: PropTypes.string.isRequired,\n//     }),\n//   ),\n//   onDeleteContact: PropTypes.func.isRequired,\n// };\n\n// const mapStateToProps = state => {\n//   const { filter } = state;\n//   const optimizedFilter = filter.toLowerCase();\n//   const vizibleCOntacts = state.contact.filter(contact =>\n//     contact.name.toLowerCase().includes(optimizedFilter),\n//   );\n\n//   return { contactsOll: vizibleCOntacts };\n// };\n\n// const mapDispatchToProps = dispatch => {\n//   return {\n//     onDeleteContact: id => dispatch(deleteContacts(id)),\n//   };\n// };\n// export default connect(mapStateToProps, mapDispatchToProps)(Todolist);\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const changeFilter = createAction('filter/value');\n","// import { connect } from 'react-redux';\r\nimport s from './Filter.module.css';\r\n// import PropTypes from 'prop-types';\r\nimport { changeFilter } from '../../redux/app/app-phonebook-actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getFilter } from '../../redux/app/app-phonebook-selector';\r\nfunction Filter() {\r\n  const dispatch = useDispatch();\r\n  const value = useSelector(getFilter);\r\n  const onChange = event => dispatch(changeFilter(event.target.value));\r\n  return (\r\n    <div className={s.filter}>\r\n      <label className={s.label}>\r\n        {/* Find contacts by name */}\r\n        <input\r\n          placeholder=\"Find contacts by name\"\r\n          className={s.input}\r\n          type=\"text\"\r\n          value={value}\r\n          onChange={onChange}\r\n        />\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Filter;\r\n","// import { Component } from 'react';\r\nimport s from './Phonebook.module.css';\r\nimport Form from '../components/Forms/Form';\r\nimport TodoList from '../components/Todolist/Todolist';\r\nimport Filter from '../components/Filter/Filter';\r\nimport { useFetchContactQuery } from '../redux/app/operation';\r\n\r\nfunction Phonebook() {\r\n  const { data: contactApi } = useFetchContactQuery();\r\n\r\n  return (\r\n    <div className={s.phonebook}>\r\n      <Form contact={contactApi} />\r\n      <Filter contact={contactApi} />\r\n      {contactApi && <TodoList contact={contactApi} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Phonebook;\r\n","// import { Container } from 'react-bootstrap';\nimport s from './Home.module.css';\nexport function Home() {\n  return (\n    <div className={s.home}>\n      <h2>HOMPAGE</h2>\n    </div>\n  );\n}\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { toast } from 'react-toastify';\r\nconst BASE_USER_URL = 'https://connections-api.herokuapp.com';\r\nconst userLogin = '/users/login';\r\nconst userRegister = '/users/signup';\r\nconst userLogout = '/users/logout';\r\nconst userCurrent = '/users/Current';\r\n// import { getisAuth } from '../app/selector-auth';\r\nexport const registerThunk = createAsyncThunk(\r\n  'users/register',\r\n  async (user, { rejectWithValue, getState }) => {\r\n    try {\r\n      const response = await fetch(BASE_USER_URL + userRegister, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n\r\n        body: JSON.stringify(user),\r\n      });\r\n      console.log('response.status', response.status);\r\n      if (response.status !== 201) {\r\n        toast.error('User creation error! Please try again!');\r\n        throw new Error(400);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      return data; //action payload\r\n    } catch (error) {\r\n      rejectWithValue({ error: error.message });\r\n\r\n      if (error.response.status === 500) {\r\n        toast.error('Server error! Please try later!');\r\n      } else {\r\n        toast.error('Something went wrong!');\r\n      }\r\n    }\r\n  },\r\n);\r\n\r\nexport const loginThunk = createAsyncThunk(\r\n  'users/login',\r\n  async (user, { rejectWithValue, getState }) => {\r\n    // const state = getState();\r\n    // const token = state.auth.token;\r\n    //  if (!token) {\r\n    //    throw new Error(400);\r\n    //  }\r\n    try {\r\n      const response = await fetch(BASE_USER_URL + userLogin, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n\r\n        body: JSON.stringify(user),\r\n      });\r\n      if (response.status !== 200) {\r\n        toast.error('User error! Please try again!');\r\n        throw new Error(400);\r\n      }\r\n      const data = await response.json();\r\n\r\n      return data; //action payload\r\n    } catch (error) {\r\n      rejectWithValue({ error: error.message });\r\n      if (error.response.status === 500) {\r\n        toast.error('Server error! Please try later!');\r\n      } else {\r\n        toast.error('Something went wrong!');\r\n      }\r\n    }\r\n  },\r\n);\r\n\r\nexport const currentThunk = createAsyncThunk(\r\n  'users/Current',\r\n  async (_, { rejectWithValue, getState }) => {\r\n    const state = getState();\r\n    const token = state.auth.token;\r\n\r\n    if (!token) {\r\n      throw new Error(200);\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(BASE_USER_URL + userCurrent, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n\r\n        // body: JSON.stringify(user),\r\n      });\r\n\r\n      const data = await response.json();\r\n      return data; //action payload\r\n    } catch (err) {\r\n      rejectWithValue({ error: err.message });\r\n    }\r\n  },\r\n);\r\n\r\nexport const logOutThunk = createAsyncThunk(\r\n  'users/logout',\r\n  async (_, { rejectWithValue, getState }) => {\r\n    const state = getState();\r\n    const token = state.auth.token;\r\n    if (!token) return;\r\n    try {\r\n      const response = await fetch(BASE_USER_URL + userLogout, {\r\n        method: 'POST',\r\n        headers: {\r\n          // \"Content-Type\":\"application/json\",\r\n          Authorization: ` Bearer ${token}`,\r\n        },\r\n\r\n        // body: JSON.stringify(user),\r\n      });\r\n\r\n      // const data = await response.json();\r\n      console.log('response', response); // { user:{name:\"\", email:'' }}\r\n      // return data; //action payload\r\n    } catch (err) {\r\n      rejectWithValue({ error: err.message });\r\n    }\r\n  },\r\n);\r\n//Padla1984@rambler.ru\r\n//sveta@sveta.com\r\n//11111111\r\n","import { useState } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './Login.module.css';\r\nimport { useDispatch } from 'react-redux';\r\nimport { loginThunk } from '../redux/app/thunks.js';\r\nexport function Login() {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    switch (name) {\r\n      case 'email':\r\n        setEmail(value);\r\n        break;\r\n      case 'password':\r\n        setPassword(value);\r\n        break;\r\n      default:\r\n        alert('Check input name');\r\n    }\r\n  };\r\n\r\n  const handlSubmit = e => {\r\n    e.preventDefault();\r\n    const user = { email, password };\r\n    // registerThunk(user);\r\n    dispatch(loginThunk(user));\r\n    reset();\r\n  };\r\n\r\n  const reset = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* <h2>Login Form</h2> */}\r\n      <form className=\"register\" onSubmit={handlSubmit}>\r\n        <ul className={s.register__list}>\r\n          {/* <li className={s.gister__item}>\r\n            <label className={s.register__label}>\r\n              Name\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={name}\r\n                onChange={handleChange}\r\n                placeholder=\"name\" />\r\n            </label>\r\n          </li> */}\r\n\r\n          <li className=\"register__item\">\r\n            <label className={s.register__label}>\r\n              Email\r\n              <input\r\n                type=\"text\"\r\n                name=\"email\"\r\n                value={email}\r\n                onChange={handleChange}\r\n                placeholder=\"email\"\r\n              />\r\n            </label>\r\n          </li>\r\n          <li className=\"register__item\">\r\n            <label className={s.register__label}>\r\n              {' '}\r\n              Password\r\n              <input\r\n                type=\"text\"\r\n                name=\"password\"\r\n                onChange={handleChange}\r\n                value={password}\r\n                placeholder=\"password\"\r\n              />\r\n            </label>\r\n          </li>\r\n        </ul>\r\n        <button type=\"submit\" className={s.login__button}>\r\n          Login\r\n        </button>\r\n      </form>\r\n      <ToastContainer />\r\n    </>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './Register.module.css';\r\nimport { useDispatch } from 'react-redux';\r\nimport { registerThunk } from '../redux/app/thunks.js';\r\nexport function Register() {\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    switch (name) {\r\n      case 'name':\r\n        setName(value);\r\n        break;\r\n      case 'email':\r\n        setEmail(value);\r\n        break;\r\n      case 'password':\r\n        setPassword(value);\r\n        break;\r\n      default:\r\n        alert('Check input name');\r\n    }\r\n  };\r\n\r\n  const handlSubmit = e => {\r\n    e.preventDefault();\r\n    const user = { name, email, password };\r\n    // registerThunk(user);\r\n    dispatch(registerThunk(user));\r\n    reset();\r\n  };\r\n\r\n  const reset = () => {\r\n    setName('');\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* <h2>Register Form</h2> */}\r\n      <form className=\"register\" onSubmit={handlSubmit}>\r\n        <ul className={s.register__list}>\r\n          <li className={s.register__item}>\r\n            <label className={s.register__label}>\r\n              Name\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={name}\r\n                onChange={handleChange}\r\n                placeholder=\"name\"\r\n              />\r\n            </label>\r\n          </li>\r\n\r\n          <li className={s.register__item}>\r\n            <label className={s.register__label}>\r\n              Email\r\n              <input\r\n                type=\"text\"\r\n                name=\"email\"\r\n                value={email}\r\n                onChange={handleChange}\r\n                placeholder=\"email\"\r\n              />\r\n            </label>\r\n          </li>\r\n          <li className={s.register__item}>\r\n            <label className={s.register__label}>\r\n              {' '}\r\n              Password\r\n              <input\r\n                type=\"text\"\r\n                name=\"password\"\r\n                onChange={handleChange}\r\n                value={password}\r\n                placeholder=\"password\"\r\n              />\r\n            </label>\r\n          </li>\r\n        </ul>\r\n        <button type=\"submit\" className={s.register__button}>\r\n          add\r\n        </button>\r\n      </form>\r\n      <ToastContainer />\r\n    </>\r\n  );\r\n}\r\n","export const getIsLoading = state => state.auth.isLoading;\nexport const getisAuth = state => state.auth.isAuth;\nexport const getIsToken = state => state.auth.token;\nexport const getIsRefresh = state => state.auth.isRefresh;\n// export const getUserName = state => state.user.name;\nexport const getUsersName = state => state.auth.user.name;\n","import { Navigate } from 'react-router-dom';\r\nimport { getisAuth } from '../redux/app/selector-auth';\r\nimport { useSelector } from 'react-redux';\r\nexport function PublicRoute({ component: Component }) {\r\n  const isAuth = useSelector(getisAuth);\r\n  // const shouldRedirect = isAuth && restricted;\r\n  return (\r\n    <>\r\n      {/* <h1> PublicRoute</h1> */}\r\n      {isAuth ? <Navigate to=\"/\" /> : <Component />}\r\n    </>\r\n  );\r\n}\r\n","import { Navigate } from 'react-router-dom';\r\nimport { getisAuth } from '../redux/app/selector-auth';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport function PrivateRoute({ component: Component }) {\r\n  const isAuth = useSelector(getisAuth);\r\n  console.log('PrivateRoute', isAuth);\r\n  //  const shouldRedirect = isAuth && restricted;\r\n  return <>{isAuth ? <Component /> : <Navigate to=\"/login\" />}</>;\r\n}\r\n","import { NavLink } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getisAuth } from '../../redux/app/selector-auth';\nimport s from './Navigation.module.css';\n\nfunction Navigation() {\n  const isAuth = useSelector(getisAuth);\n  return (\n    <nav className={s.nav}>\n      <NavLink className={s.link} to=\"/\">\n        Home\n      </NavLink>\n\n      {isAuth && (\n        <NavLink\n          to=\"/phonebook\"\n          //exact\n          // className={s.link}\n          // activeClassName={s.activeLink}\n        >\n          Phonebook\n        </NavLink>\n      )}\n    </nav>\n  );\n}\n\nexport default Navigation;\n","import { useSelector, useDispatch } from 'react-redux';\r\nimport { getUsersName } from '../../redux/app/selector-auth';\r\nimport s from './UserMenu.module.css';\r\n// import Button from '@material-ui/core/Button';\r\nimport { Button } from 'react-bootstrap';\r\nimport { logOutThunk } from '../../redux/app/thunks';\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n\r\n  const userName = useSelector(getUsersName);\r\n\r\n  const handleLogOut = () => {\r\n    console.log('click');\r\n    dispatch(logOutThunk());\r\n  };\r\n\r\n  return (\r\n    <div className={s.userMenu}>\r\n      {/* <span>Hello.......... </span> */}\r\n      <span className={s.user__button}>\r\n        Hello... {userName ? userName : ' '}\r\n      </span>\r\n      <Button\r\n        color=\"FFFFFF\"\r\n        variant=\"info\"\r\n        type=\"button\"\r\n        onClick={handleLogOut}\r\n      >\r\n        Log out\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import { NavLink } from 'react-router-dom';\n\n// import s from './AuthNav.module.css';\n\nconst AuthNav = () => (\n  <div>\n    <NavLink\n      to=\"/register\"\n      // exact\n      //   className={s.link}\n      //   activeClassName={s.activeLink}\n      style={{\n        borderRadius: 35,\n        backgroundColor: 'rgb(212, 9, 145)',\n        color: 'white',\n        padding: '1px 25px',\n        marginRight: '10px',\n        fontSize: '16px',\n      }}\n    >\n      Sign up\n    </NavLink>\n    <NavLink\n      to=\"/login\"\n      // exact\n      //   className={s.link}\n      //   activeClassName={s.activeLink}\n      style={{\n        borderRadius: 35,\n        backgroundColor: 'rgb(212, 9, 145)',\n        color: 'white',\n        padding: '1px 25px',\n        fontSize: '16px',\n      }}\n    >\n      Log in\n    </NavLink>\n  </div>\n);\n\nexport default AuthNav;\n","import { useSelector } from 'react-redux';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport UserMenu from '../UserMenu/UserMenu';\r\nimport AuthNav from '../AuthNav/AuthNav';\r\nimport s from './AppBAr.module.css';\r\n// import s from './AppBar.module.css';\r\nimport { getisAuth } from '../../redux/app/selector-auth';\r\n// import { getIsLoading } from '../../redux/app/selector-auth';\r\n\r\nexport default function AppBar() {\r\n  const isAuthApp = useSelector(getisAuth);\r\n  // const isAuthApp = useSelector(getIsLoading);\r\n\r\n  console.log('AppBar', isAuthApp);\r\n  return (\r\n    <header className={s.header}>\r\n      <Navigation />\r\n      {isAuthApp ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","// import { Component } from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport './App.css';\nimport Phonebook from './pages/Phonebook';\nimport { Home } from './pages/Home';\nimport { Login } from './pages/Login';\nimport { Register } from './pages/Register';\nimport { PublicRoute } from './routs/PublicRout';\nimport { PrivateRoute } from './routs/PrivateRout';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { currentThunk } from './redux/app/thunks';\n// import { logOutThunk } from './redux/app/thunks';\nimport AppBar from '../src/components/AppBar/AppBAr';\nimport { getIsRefresh } from './redux/app/selector-auth';\n// import { authSelector } from './redux/app/selector-auth';\n\nconst isAuth = false;\n\nexport default function App() {\n  const dispatch = useDispatch();\n  // const isFetchingCurrentUser = useSelector(state => state.state);\n  const isFetchingCurret = useSelector(getIsRefresh);\n  // console.log(isFetchingCurret);\n\n  useEffect(() => {\n    dispatch(currentThunk());\n\n    // return () => {\n    //   cleanup\n    // }\n  }, [dispatch]);\n\n  // const handleLogOut = () => {\n  //   console.log('click');\n  //   dispatch(logOutThunk());\n  // };\n  return (\n    !isFetchingCurret && (\n      <div className=\"App\">\n        <AppBar />\n        <main>\n          <Routes>\n            <Route\n              path=\"/\"\n              element={<Home />}\n              redirectTo=\"/Phonebook\"\n              // exact\n              // element={<PrivateRoute isAuth={isAuth} component={Home}/>}\n            />\n            <Route\n              path=\"/phonebook\"\n              isAuth={isAuth}\n              element={<PrivateRoute component={Phonebook} />}\n            />\n\n            <Route path=\"/login\" element={<PublicRoute component={Login} />} />\n            <Route\n              path=\"/register\"\n              element={<PublicRoute isAuth={isAuth} component={Register} />}\n            />\n          </Routes>\n        </main>\n      </div>\n    )\n  );\n}\n\n{\n  /* <header className=\"App-header\">\n        <nav>\n          <ul>\n            <li>\n              <Link to=\"/\">Home</Link>\n            </li>\n            <li>\n              <Link to=\"/phonebook\">Phonebook</Link>\n            </li>\n            <li>\n              <Link to=\"/login\">Login</Link>\n            </li>\n            <li>\n              <Link to=\"/register\">Register</Link>\n            </li>\n            <li>\n              <button type=\"button\" onClick={handleLogOut}>\n                Log Out\n              </button>\n            </li>\n          </ul>\n        </nav>\n      </header> */\n}\n","import { createSlice } from '@reduxjs/toolkit';\n// import { useSelector } from 'react-redux';\nimport { currentThunk, loginThunk, logOutThunk, registerThunk } from './thunks';\n// import { getIsToken } from './selector-auth';\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    user: { name: '', email: '' },\n    token: '',\n    error: null,\n    isLoading: false,\n    isAuth: false,\n\n    isRefresh: false,\n    // myProp: 'Test',\n  },\n  // reducers: {\n  //   renameProp: (state, action) => {\n  //     return {\n  //       ...state,\n  //       myProp: action.payload,\n  //     };\n  //   },\n  // },\n\n  extraReducers: {\n    [registerThunk.pending](state, action) {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    },\n    [registerThunk.fulfilled](state, action) {\n      return {\n        ...state,\n        isLoading: false,\n        user: action.payload.user,\n        token: action.payload.token,\n        isAuth: action.payload.token ? true : false,\n      };\n    },\n    [registerThunk.rejected](state, action) {\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload,\n        isAuth: false,\n      };\n    },\n    [loginThunk.pending](state, action) {\n      return {\n        ...state,\n        isLoading: true,\n        isAuth: false,\n      };\n    },\n    [loginThunk.fulfilled](state, action) {\n      return {\n        ...state,\n        isLoading: false,\n        user: action.payload.user,\n        token: action.payload.token,\n        isAuth: action.payload.token ? true : false,\n      };\n    },\n    [loginThunk.rejected](state, action) {\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload,\n        isAuth: false,\n      };\n    },\n    [currentThunk.pending](state, action) {\n      return {\n        ...state,\n        isLoading: true,\n        isRefresh: true,\n      };\n    },\n    [currentThunk.fulfilled](state, action, token) {\n      // const token = action.payload.token;\n\n      // // const token = action.auth.token;\n      // console.log('token', token);\n      return {\n        ...state,\n        isLoading: false,\n        user: action.payload,\n        isRefresh: false,\n        // token: action.payload.token,\n        // isAuth: action.payload.token ? true : false,\n\n        isAuth: token === '' ? 'false' : true,\n        // isAuth: !token ? 'false' : 'true',\n        // isAuth: (token ? 'true' : 'false'),\n      };\n    },\n    [currentThunk.rejected](state, action) {\n      return {\n        ...state,\n        isLoading: false,\n        isAuth: false,\n        error: action.payload,\n        isRefresh: false,\n        // isFetchingCurrentUser: false,\n      };\n    },\n    [logOutThunk.pending](state, action) {\n      return {\n        ...state,\n        isLoading: true,\n        isAuth: false,\n      };\n    },\n    [logOutThunk.fulfilled](state, action) {\n      return {\n        ...state,\n        isAuth: false,\n        isLoading: false,\n        user: { name: '', email: '' },\n        token: '',\n      };\n    },\n    [logOutThunk.rejected](state, action) {\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload,\n        isAuth: false,\n        // isAuth: false,\n      };\n    },\n  },\n});\n\n// export const {} = authSlice.actions;\nexport default authSlice.reducer;\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport { changeFilter } from './app-phonebook-actions';\n\nconst filter = createReducer('', {\n  [changeFilter]: (_, { payload }) => payload,\n});\n\nexport default combineReducers({\n  // contact: contactList,\n  filter,\n});\n","import { setupListeners } from '@reduxjs/toolkit/dist/query';\r\nimport { configureStore } from '@reduxjs/toolkit';\r\nimport authReducer from './app/slices-auth';\r\n// import logger from 'redux-logger';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport { contactsApi } from './app/operation';\r\nimport filter from './app/app-phonebook-reducer';\r\nconst authPersistConfig = {\r\n  key: 'authToken',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\nconst authPersisteReducer = persistReducer(authPersistConfig, authReducer);\r\nexport const store = configureStore({\r\n  reducer: {\r\n    // contacts: phonebookReducer,\r\n    [contactsApi.reducerPath]: contactsApi.reducer,\r\n    auth: authPersisteReducer,\r\n    getFilter: filter,\r\n  },\r\n  middleware: getDefaultMiddleware =>\r\n    getDefaultMiddleware(\r\n      {\r\n        serializableCheck: {\r\n          ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n        },\r\n      },\r\n      //   ПЕРЕВІРИТИ ЧИ ВПЛИВАЄ НА ПЕРВІРКУ\r\n    )\r\n      // .concat(logger)\r\n      .concat(contactsApi.middleware),\r\n  devTools: process.env.NODE_ENV !== 'production',\r\n});\r\n\r\nsetupListeners(store.dispatch);\r\n\r\nexport const persistor = persistStore(store);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'modern-normalize/modern-normalize.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport { store, persistor } from './redux/store';\r\n// import { store } from './redux/store';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <Router>\r\n          <App />\r\n        </Router>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}